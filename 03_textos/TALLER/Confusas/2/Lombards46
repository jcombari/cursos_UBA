At the death of King Aripert I in 661, the kingdom was split between his children Perctarit, who set his capital in Milan, and Godepert, who reigned from Pavia (Ticinum). Perctarit was overthrown by Grimoald, son of Gisulf, duke of Friuli and Benevento since 647. Perctarit fled to the Avars and then to the Franks. Grimoald managed to regain control over the duchies and deflected the late attempt of the Byzantine emperor Constans II to conquer southern Italy. He also defeated the Franks. At Grimoald's death in 671 Perctarit returned and promoted tolerance between Arians and Catholics, but he could not defeat the Arian party, led by Arachi, duke of Trento, who submitted only to his son, the philo-Catholic Cunincpert.
