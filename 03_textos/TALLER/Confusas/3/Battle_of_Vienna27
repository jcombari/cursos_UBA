The Ottomans had 130 field guns and 19 medium-caliber cannon, insufficient in the face of the defenders' 370.[4] Mining tunnels were dug under the massive city walls, which would then be filled with sufficient quantities of black powder to blow up the walls.[28][16]:660 According to Andrew Wheatcroft, the outer palisade was around 150 years old and mostly rotten, so the defenders set to work knocking very large tree trunks into the ground to surround the walls. This seriously disrupted the Ottoman plan, adding almost another three weeks to the time it would take to get past the old palisade.[29] This, combined with the delay in advancing their army after declaring war, eventually allowed a relief force to arrive in September.[16]:660 Historians have speculated that Kara Mustafa wanted to take the city intact with its riches and declined an all-out attack, not wishing to initiate the plundering that would accompany an assault and was viewed as the right of conquering soldiers.[30]
